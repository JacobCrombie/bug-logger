(function(t){function e(e){for(var s,n,r=e[0],c=e[1],l=e[2],d=0,g=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&g.push(o[n][0]),o[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(g.length)g.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},o={app:0},i=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0383":function(t,e,a){"use strict";var s=a("7505"),o=a.n(s);o.a},"0633":function(t,e,a){},"0fca":function(t,e,a){},2932:function(t,e,a){"use strict";var s=a("0633"),o=a.n(s);o.a},"3d74":function(t,e,a){"use strict";var s=a("0fca"),o=a.n(s);o.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-white"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Bugs"}}},[t._v("AppName")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"Bugs"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Bugs"}}},[t._v("Bugs Log")])],1),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"Profile"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Profile"}}},[t._v("Profile")])],1):t._e()]),a("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):a("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v(" Login ")])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],c=a("bc3a"),l=a.n(c),u=a("335d"),d={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})}}},g=d,p=a("2877"),m=Object(p["a"])(g,n,r,!1,null,null,null),h=m.exports,f={name:"App",mounted(){this.$store.dispatch("getProfile")},async beforeCreate(){await Object(u["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},components:{Navbar:h}},v=f,b=(a("5c0b"),Object(p["a"])(v,o,i,!1,null,null,null)),C=b.exports,_=a("8c4f"),B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bugs container-fluid"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"card col"},[a("div",{staticClass:"d-flex border"},[a("h2",{staticClass:"col-3"},[t._v("Title")]),a("h2",{staticClass:"col-3"},[t._v("Reported By")]),a("h2",{staticClass:"col-3"},[t._v(" Status "),t.sortToggle?t._e():a("i",{staticClass:"fa fa-chevron-up cursor",on:{click:t.sortBugs}}),t.sortToggle?a("i",{staticClass:"fa fa-chevron-down cursor",on:{click:t.sortBugs2}}):t._e()]),a("h2",{staticClass:"col-3"},[t._v("Last Modified")])]),a("div",{staticClass:"d-flex"},[a("ul",{staticClass:"col mt-3 border"},t._l(t.bugs,(function(t){return a("bug-comp",{key:t.id,attrs:{bugProp:t}})})),1)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[!t.bugToggle&&this.profile.email?a("button",{staticClass:"btn btn-danger",on:{click:function(e){t.bugToggle=!t.bugToggle}}},[t._v(" Report Bug ")]):t._e(),t.bugToggle?a("form",{staticClass:"d-flex justify-content-center mt-3",on:{submit:function(e){return e.preventDefault(),t.addBug(e)}}},[a("div",{staticClass:"form-group form-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addBugData.title,expression:"addBugData.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Bug Title"},domProps:{value:t.addBugData.title},on:{input:function(e){e.target.composing||t.$set(t.addBugData,"title",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addBugData.description,expression:"addBugData.description"}],staticClass:"form-control mx-1 d-input",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.addBugData.description},on:{input:function(e){e.target.composing||t.$set(t.addBugData,"description",e.target.value)}}}),a("button",{staticClass:"btn btn-danger",attrs:{type:"submit"}},[t._v("Report Bug")])])]):t._e()])])])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h1",{staticClass:"col text-center mt-3 text-under font-weight-bold"},[t._v(" Current Bugs ")])])}],w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bug-comp"},[a("li",{staticClass:"d-flex border cursor",on:{click:t.setActiveBug}},[a("h4",{staticClass:"col-3"},[t._v(t._s(t.bugProp.title))]),a("h4",{staticClass:"col-3"},[t._v(t._s(t.bugProp.creatorEmail))]),t.bugProp.closed?a("h4",{staticClass:"col-3 t-red"},[t._v("Closed")]):t._e(),t.bugProp.closed?t._e():a("h4",{staticClass:"col-3 t-green"},[t._v("Open")]),a("h4",{staticClass:"col-3"},[t._v(t._s(this.date))])])])},$=[],x={name:"bug-comp",props:["bugProp"],data(){return{}},computed:{date(){let t=this.bugProp.updatedAt.split("T");return t[0]}},methods:{setActiveBug(){this.$store.dispatch("getBugById",this.bugProp.id)}},components:{}},D=x,T=(a("3d74"),Object(p["a"])(D,w,$,!1,null,"028ba640",null)),N=T.exports,P={name:"bugs",mounted(){this.$store.dispatch("getAllBugs")},data(){return{bugToggle:!1,addBugData:{},sortToggle:!1}},computed:{bugs(){return this.$store.state.bugs},profile(){return this.$store.state.profile}},methods:{addBug(){this.$store.dispatch("addBug",{title:this.addBugData.title,description:this.addBugData.description}),this.addBugData={},this.bugToggle=!this.bugToggle},sortBugs(){this.bugs.sort((t,e)=>t.closed>e.closed?1:-1),this.sortToggle=!this.sortToggle},sortBugs2(){this.bugs.sort((t,e)=>t.closed<e.closed?1:-1),this.sortToggle=!this.sortToggle}},components:{BugComp:N}},E=P,A=(a("5bfb"),Object(p["a"])(E,B,y,!1,null,"0500e72c",null)),O=A.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about text-center"},[a("h1",[t._v("Welcome "+t._s(t.profile.name))]),a("img",{staticClass:"rounded",attrs:{src:t.profile.picture,alt:""}}),a("p",[t._v(t._s(t.profile.email))])])},k=[],I={name:"Profile",computed:{profile(){return this.$store.state.profile}}},S=I,M=(a("0383"),Object(p["a"])(S,j,k,!1,null,"59c2bb44",null)),L=M.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"active-bug container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t._m(0),a("div",[a("h1",{staticClass:"col title"},[t._v(t._s(t.bug.title))])]),a("div",{staticClass:"col mt-5 justify-content-between d-flex"},[a("div",{staticClass:"d-flex"},[a("h5",{staticClass:"align-self-center mr-2"},[t._v("Reported By:")]),a("h1",[t._v(t._s(t.bug.creatorEmail))])]),a("div",{staticClass:"d-flex"},[a("h5",{staticClass:"align-self-center mr-2"},[t._v("Status:")]),t.bug.closed?a("h1",{staticClass:"t-red"},[t._v("Closed")]):t._e(),t.bug.closed?t._e():a("h1",{staticClass:"t-green"},[t._v("Open")])])]),a("div",{staticClass:"col border mt-2"},[a("h5",[t._v(t._s(t.bug.description))])]),a("div",{staticClass:"col d-flex justify-content-between"},[t.bug.creatorEmail!=t.profile.email||t.bug.closed||t.editToggle?t._e():a("button",{staticClass:"btn btn-warning mt-2",on:{click:function(e){t.editToggle=!t.editToggle}}},[t._v(" Edit Bug ")]),t.editToggle?a("form",{on:{submit:function(e){return e.preventDefault(),t.editBug(e)}}},[a("div",{staticClass:"form-group form-inline mt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.title,expression:"editData.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"New title..."},domProps:{value:t.editData.title},on:{input:function(e){e.target.composing||t.$set(t.editData,"title",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.description,expression:"editData.description"}],staticClass:"form-control mx-1",attrs:{type:"text",placeholder:"New description..."},domProps:{value:t.editData.description},on:{input:function(e){e.target.composing||t.$set(t.editData,"description",e.target.value)}}}),a("button",{staticClass:"btn btn-warning",attrs:{type:"submit"}},[t._v("Edit Bug")])])]):t._e(),t.bug.creatorEmail!=t.profile.email||t.bug.closed||t.editToggle?t._e():a("button",{staticClass:"btn btn-danger mt-2",on:{click:t.closeBug}},[t._v(" Close Bug ")])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col mt-5"},[t._m(1),a("div",{staticClass:"justify-content-center d-flex"},[a("div",{staticClass:"col-11 mt-3"},[a("div",{staticClass:"col border"},[t._m(2),a("div",{staticClass:"d-flex"},[a("ul",{staticClass:"col"},t._l(t.notes,(function(t){return a("note-comp",{key:t.id,attrs:{noteProp:t}})})),1)])]),a("div",{staticClass:"col d-flex justify-content-end mt-2"},[!t.noteToggle&&this.profile.email?a("button",{staticClass:"btn btn-success",on:{click:function(e){t.noteToggle=!t.noteToggle}}},[t._v(" Add Note ")]):t._e(),t.noteToggle?a("form",{on:{submit:function(e){return e.preventDefault(),t.addNote(e)}}},[a("div",{staticClass:"form-group form-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.noteData.content,expression:"noteData.content"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Add Note..."},domProps:{value:t.noteData.content},on:{input:function(e){e.target.composing||t.$set(t.noteData,"content",e.target.value)}}}),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v(" Add Note ")])])]):t._e()])])])])])])},Y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h5",{staticClass:"col mt-3"},[t._v("Title:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("h2",[t._v("Notes")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex border-bottom"},[a("h3",{staticClass:"col-3 p-0"},[t._v("Name")]),a("h3",{staticClass:"col-8 p-0"},[t._v("Message")]),a("h3",{staticClass:"col-1 p-0"},[t._v("Delete")])])}],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"note-comp"},[a("li",{staticClass:"d-flex mt-2"},[a("h5",{staticClass:"col-3 p-0 align-self-center"},[t._v(" "+t._s(t.noteProp.creatorEmail)+" ")]),t.editToggle&&t.noteProp.creatorEmail==t.profile.email?a("form",{staticClass:"col-9 p-0",on:{submit:function(e){return e.preventDefault(),t.editNote(e)}}},[a("div",{staticClass:"form-group form-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editNoteData.content,expression:"editNoteData.content"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.noteProp.content},domProps:{value:t.editNoteData.content},on:{input:function(e){e.target.composing||t.$set(t.editNoteData,"content",e.target.value)}}}),a("button",{staticClass:"btn btn-warning",attrs:{type:"submit"}},[t._v("Edit")])])]):t._e(),t.editToggle?t._e():a("h5",{staticClass:"col-9 p-0"},[t.editToggle||t.noteProp.creatorEmail!=t.profile.email?t._e():a("i",{staticClass:"fa fa-user-edit mr-1",on:{click:function(e){t.editToggle=!t.editToggle}}}),t._v(" "+t._s(t.noteProp.content)+" ")]),a("h5",{staticClass:"col-1 p-0 align-self-center"},[t.noteProp.creatorEmail==t.profile.email?a("i",{staticClass:"fa fa-trash cursor text-danger",on:{click:t.deleteNote}}):t._e()])])])},U=[],W={name:"note-comp",props:["noteProp"],data(){return{editNoteData:{},editToggle:!1}},computed:{profile(){return this.$store.state.profile}},methods:{deleteNote(){this.$store.dispatch("deleteNote",this.noteProp)},editNote(){this.$store.dispatch("editNote",{content:this.editNoteData.content,id:this.noteProp.id,bug:this.noteProp.bug}),this.editNoteData={},this.editToggle=!this.editToggle}},components:{}},z=W,q=(a("2932"),Object(p["a"])(z,J,U,!1,null,"88ce38ce",null)),G=q.exports,V={name:"active-bug",mounted(){this.$store.dispatch("getBugById",this.$route.params.id),this.$store.dispatch("getNotesByBugId",this.$route.params.id)},data(){return{noteToggle:!1,noteData:{},editToggle:!1,editData:{}}},computed:{bug(){return this.$store.state.activeBug},notes(){return this.$store.state.notes},profile(){return this.$store.state.profile}},methods:{closeBug(){this.$store.dispatch("closeBug",{closed:!0,id:this.$route.params.id})},addNote(){this.$store.dispatch("addNote",{bug:this.$route.params.id,content:this.noteData.content}),this.noteData={},this.noteToggle=!this.noteToggle},editBug(){this.$store.dispatch("editBugData",{title:this.editData.title,description:this.editData.description,id:this.$route.params.id}),this.editData={},this.editToggle=!this.editToggle}},components:{NoteComp:G}},X=V,Z=(a("63b5"),Object(p["a"])(X,R,Y,!1,null,"860b27b2",null)),F=Z.exports;s["a"].use(_["a"]);const H=[{path:"/",name:"Bugs",component:O},{path:"/profile",name:"Profile",component:L,beforeEnter:u["b"]},{path:"/bugs/:id",name:"ActiveBug",component:F,beforeEnter:u["b"]}],K=new _["a"]({routes:H});var Q=K,tt=a("2f62");let et=location.host.includes("localhost")?"http://localhost:3000/":"/";const at=l.a.create({baseURL:et+"api",timeout:3e3,withCredentials:!0});var st=a("3d20"),ot=a.n(st);class it{static async confirmAction(t="Are you sure",e="You won't be able to undo this!",a="Yes, delete it!",s="blue"){try{let o=await ot.a.fire({title:t,text:e,icon:"warning",showCancelButton:!0,confirmButtonColor:s,cancelButtonColor:"red",confirmButtonText:a,cancelButtonText:"Oops Nevermind"});return!!o.value}catch(o){console.error(o)}}}s["a"].use(tt["a"]);var nt=new tt["a"].Store({state:{profile:{},bugs:[],notes:[],activeBug:{}},mutations:{setProfile(t,e){t.profile=e},setBugs(t,e){t.bugs=e},setActiveBug(t,e){t.activeBug=e},setNotes(t,e){t.notes=e}},actions:{setBearer({},t){at.defaults.headers.authorization=t},resetBearer(){at.defaults.headers.authorization=""},async getProfile({commit:t}){try{let e=await at.get("profile");t("setProfile",e.data)}catch(e){console.error(e)}},async getAllBugs({commit:t,dispatch:e}){try{let e=await at.get("bugs");t("setBugs",e.data)}catch(a){console.error(a)}},async addBug({commit:t,dispatch:e},a){try{let t=await at.post("bugs",a);e("getAllBugs"),e("getBugById",t.data.id)}catch(s){console.error(s)}},async getBugById({commit:t,dispatch:e},a){try{let e=await at.get("bugs/"+a);t("setActiveBug",e.data),Q.push({name:"ActiveBug",params:{id:e.data.id}})}catch(s){console.error(s)}},async closeBug({commit:t,dispatch:e},a){try{await it.confirmAction("Do you want to CLOSE Bug?","You won't be able to edit or re-open bug after CLOSE!","Confirm BUGCLOSE")&&(await at.put("bugs/"+a.id,{closed:a.closed}),e("getBugById",a.id))}catch(s){console.error(s)}},async editBugData({commit:t,dispatch:e},a){try{await it.confirmAction("Do you want to edit bug data?","You won't be able to revert to original!","Edit Bug Data")&&(await at.put("bugs/"+a.id,{title:a.title,description:a.description}),e("getBugById",a.id))}catch(s){console.error(s)}},async getNotesByBugId({commit:t,dispatch:e},a){try{let e=await at.get("bugs/"+a+"/notes");t("setNotes",e.data)}catch(s){console.error(s)}},async addNote({commit:t,dispatch:e},a){try{await at.post("notes",a),e("getNotesByBugId",a.bug)}catch(s){console.error(s)}},async deleteNote({commit:t,dispatch:e},a){try{await it.confirmAction("Do you want this note deleted?","You won't be able to revert this.")&&(await at.delete("notes/"+a.id),e("getNotesByBugId",a.bug))}catch(s){console.error(s)}},async editNote({commit:t,dispatch:e},a){try{await it.confirmAction("Do you want to edit this note?","You won't be able to revert changes.","Yes, perform edit.")&&(await at.put("notes/"+a.id,{content:a.content}),e("getNotesByBugId",a.bug))}catch(s){console.error(s)}}}});const rt="dev-naeu7-5y.us.auth0.com",ct="https://bug-logger",lt="DCTnjRZ7JMBV0sDMs9JdqWop4gEdWXf1";s["a"].use(u["a"],{domain:rt,clientId:lt,audience:ct,onRedirectCallback:t=>{Q.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new s["a"]({router:Q,store:nt,render:function(t){return t(C)}}).$mount("#app")},"5bfb":function(t,e,a){"use strict";var s=a("7418"),o=a.n(s);o.a},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),o=a.n(s);o.a},"63b5":function(t,e,a){"use strict";var s=a("b514"),o=a.n(s);o.a},7418:function(t,e,a){},7505:function(t,e,a){},"9c0c":function(t,e,a){},b514:function(t,e,a){}});